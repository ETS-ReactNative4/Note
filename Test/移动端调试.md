## Charles  Http抓包操作步骤
[移动应用抓包调试利器Charles](https://www.jianshu.com/p/68684780c1b0)
Step 1：开启Charleshttp代理；

Step 2：手机端Wifi添加代理；

Step 3：开启Charles录制功能；

Step 4：启动应用开始抓包；

Step 5：分析抓取的数据包。

### 具体操作
找到电脑IP，打开Charles，默认代理8888 端口。

Proxy - Proxy Setting - Enable transparent HTTP Proxy

在想要监听的域名右击-可以focus分类

### 证书安装
http的配置还是很简单，关键是https的，大部分我们是用抓包就是想用这个功能

打开Charles, 点击Help->SSL Proxying->Install Charles Root Certificate

然后输入密码进行安装，安装完成之后就要信任这个证书，刚开始我以为下载下来就没事了，其实不是。

方法是有 双击，然后选择 始终信任
Charles抓https显示unknown解决方法
https://www.jianshu.com/p/498884193013

这样就能在**电脑上**装好证书了。接下来是最重要的：给手机装证书。

在Charles中, 点击Help->SSL Proxying->Install Charles Root Certificate on a Mobile Device or Remote Browser, 来查看当前IP地址下, 手机下载证书的网址.

Configure your device to use Charles as its HTTP proxy on 192.168.199.191:8888, then browse to chls.pro/ssl to download and install the certificate

手机连接到Charles代理
浏览器访问chls.pro/ssl 等待几秒会自动下载证书

Android手机安装.pem证书文件
摸索时就遇到一个坑，Charles抓https的包的时候会乱码，于是我找到这篇帖子： 
https://blog.csdn.net/huanghanqian/article/details/52973651

这里的最后一步是安装一个.pem的文件 安卓手机安装.pem会比较困难，可能无法识别

以OPPO和一加五T为例来展示怎么安装.pem文件，其他手机都和这个差不多，基本都是在设置中找到，类似于 安全与隐私，这一项，然后从存储设备中安装。 

在菜单Proxy --> SSL Proxying Settings 配置环境:
```
*.443
```
[解决Charles抓取https报文乱码问题](https://www.jianshu.com/p/60b2b76b9066)

[Android 系统各个版本上https的抓包](https://www.jianshu.com/p/3b4cd6fdd8a9)


[What is SSL?](https://www.instantssl.com/ssl.html)






## 主从架构

Master(1) =>  Slave(15)

没有主从复制的高可用组件，如果主服务器出现了故障，很难自动进行主从切换，只能由DBA在众多的从服务器中选出一台数据最新的，提升作为主服务器，然后其他从与新主服务器进行同步。这种操作很耗时，对主服务器的网卡有要求。

主服务器性能 QPS 峰值可达350000次，TPS 每秒也超过50000-100000次。已经所示具有不错的吞吐量。

## 高可用架构
高可用：H.A(High Availability)值得是通过尽量缩短因日常维护操作和突发的崩溃所导致的停机时间，以提高系统和应用的可用性。

如何实现高可用：
避免导致系统不可用的因素，减少系统不可用的时间

1. 服务器磁盘空间耗尽：由于备份或者各种查询日志突增导致的磁盘空间被占满，Mysql由于无法记录二进制日志，无法处理新的请求而产生的系统不可用
2. 性能糟糕的SQL
3. 表结构和索引没有优化
4. 主从数据不一致
5. 人为的操作失误等

解决方法：
1. 建立完善的监控及报警系统
2. 对备份数据进行恢复测试，保证备份可用
3. 正确配置数据库环境（从服务器一定是只读的，表面主从数据不一致）
4. 对不需要的数据进行归档和清理

### 如何解决单点故障
1. PXA集群
2. MMM架构
3. MHA

### 读写分离
1. 开发人员决定
2. maxScale 读写分离中间件

进度 第5章大概看了一下
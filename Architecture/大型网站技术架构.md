## 网站性能指标
* 响应时间
* 吞吐量：QPS 每秒查询数
* 并发响应时间

## 性能优化策略
### Web前端优化
* 减少HTTP请求数：合并js、css、图片
* 使用本地缓存
* 服务器端文件压缩
* 减少cookie的传输

### 服务器端优化
* 分布式缓存memcashed
* 异步队列：有很好的削峰作用，缓解短时间内的大量订单的压力
* 使用集群：把高并发负载均衡到多台应用服务器

## 高可用的网站架构分层
1. 应用层：文库，百科..
2. 服务层：登录服务，session，账户服务
3. 数据层：数据库服务，缓存，文件服务

应用层应对高并发的请求，常负载均衡到应用层的服务器集群对外提供服务，
通过心跳检测的手段 判断不可用的服务器 将其从集群列表中剔除，把请求转给其他服务器

位于数据层的服务器集群，主从复制，数据备份，防止宕机，实现高可用。

网站升级相当于宕机，有怎样的方法呢

### 三层架构
三层架构（3-tier Application）通常意义上是将整个业务应用划分为：
控制层（Controller）、业务逻辑层（Service）以及数据访问层（Dao），三层架构在Java Web项目中很常见，那么这种架构能否运用在Node项目中，实现业务代码的可重用和解耦呢？

我们试想一下，如果我们的业务代码不分层，而是在app.js配置路由规则，把路由对应的
处理逻辑，
包括解析请求，
数据处理，
数据库操作等逻辑代码堆积在routes目录中，
你会发现很多时间你在写着同样的代码，这种方式写出来的代码是很恶心的，也就是代码冗余的问题，其实代码冗余与数据库数据冗余的道理是一样的，只要遵从一定的标准，比如范式，你就可以写出优雅的代码，但是往往这个过程是伴随着一个开发者的素养和思想的，这里我会讲讲在系统框架搭建的过程中我是如何思考的。
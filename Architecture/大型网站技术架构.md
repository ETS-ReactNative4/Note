## 网站性能指标
* 响应时间
* 吞吐量：QPS 每秒查询数
* 并发响应时间

## 性能优化策略
### Web前端优化
* 减少HTTP请求数：合并js、css、图片
* 使用本地缓存
* 服务器端文件压缩
* 减少cookie的传输

### 服务器端优化
* 分布式缓存memcashed
* 异步队列：有很好的削峰作用，缓解短时间内的大量订单的压力
* 使用集群：把高并发负载均衡到多台应用服务器

## 高可用的网站架构分层
1. 应用层：文库，百科..
2. 服务层：登录服务，session，账户服务
3. 数据层：数据库服务，缓存，文件服务

应用层应对高并发的请求，常负载均衡到应用层的服务器集群对外提供服务，
通过心跳检测的手段 判断不可用的服务器 将其从集群列表中剔除，把请求转给其他服务器

位于数据层的服务器集群，主从复制，数据备份，防止宕机，实现高可用。

网站升级相当于宕机，有怎样的方法呢

### 三层架构
三层架构（3-tier Application）通常意义上是将整个业务应用划分为：
控制层（Controller）、业务逻辑层（Service）以及数据访问层（Dao），三层架构在Java Web项目中很常见，那么这种架构能否运用在Node项目中，实现业务代码的可重用和解耦呢？

我们试想一下，如果我们的业务代码不分层，而是在app.js配置路由规则，把路由对应的
处理逻辑，
包括解析请求，
数据处理，
数据库操作等逻辑代码堆积在routes目录中，
你会发现很多时间你在写着同样的代码，这种方式写出来的代码是很恶心的，也就是代码冗余的问题，其实代码冗余与数据库数据冗余的道理是一样的，只要遵从一定的标准，比如范式，你就可以写出优雅的代码，但是往往这个过程是伴随着一个开发者的素养和思想的，这里我会讲讲在系统框架搭建的过程中我是如何思考的。


## 做企业网站需要具备的内容
1. 官网必须要有一个域名，有了域名用户才能访问网站.
目前域名还是比较便宜的，只要你不挑选偏门、冷门域名，热门com型不过才几十块钱一年，cn型也是一样
2. 服务器 [做企业网站要多少钱？](https://www.zhihu.com/question/42105642)
最便宜的就是虚拟主机了，从几十块钱到几千块钱的都有，还有所谓的云主机，五花八门，这些区别主要在于空间大小、IIS并发数、cpu占用率、网络流量、数据库支持、程序支持等等。
3. 网站程序(业务功能、后端接口、管理后台)
wordpress、dedecms、discuz、phpcms等等，有免费的，有付费的。
也有自己开发的（一般耗费时间、人力成本）。
4. 网站数据库
一般常见的有access、mysql、mssql，有些需要独立购买，有些已经跟服务器配置赠送的有了，具体咨询服务器提供商。
5. 网站内容
在上述全部搭建好之后，后续就是网站编辑、美工配合的工作了，需要把公司的产品、资料、宣传文章等内容填充到网站上，这是一个长期的工作。

## 做网站的阶段安排（周期）
1. 产品定位、扯皮、初期工作筹备阶段（1-2周）
老板一般不了解自我要做啥东西，需求是啥，产品定位是啥，这时候候产品经理要出马了，跟老板各种扯皮、厘清需求、找产品定位，这里大概扯吧个两周，好说歹说会把产品的定位、一期的需求想清楚（期间架构师可以开始构思产品的技术架构了，未能正式动工）
产品定位和初期的需求肯定出来以后，需要想个产品的名字、需求调研、竟品调研分析、注册域名、购置服务器和周边基础能力（如CDN存储、短佩服务、动静推送等）、商标（未注册商标、许多团队就是吃了这个亏）、抢注域名、设计logo，这里在老板不半途扭转设法、变更产品需乞降定位的条件下，最最少扯一周，这时候候产品的原型、技术架构的雏形也出来了，基本可以进入真刀真枪的干活了。这一步假定域名不需要花大价钱购买，全体费用算起来拍脑袋10000元/年可以弄定。
2. 6个月的时间，算快，一个APP从无到有需要的费用大概这么算：
* 人工费用：133224元*6个月 ≈ 80W
* 场地房钱：15000元*6个月 = 9W
* 办公耗材+桌椅支出：1W
* 服务器、域名、周边IT基础费用：2W
大约算下来，不算营销费用，第一个版本，你需要筹备100W。







